<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>elenovich.lol</title>
<style>
  body {
    background: #000;
    color: #fff;
    font-family: Arial, sans-serif;
    margin: 20px;
  }

  .poem-list-wrapper {
    height: calc(1.5em * 15); /* 15 строк по 1.5em */
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(255,255,255,0.3) transparent;
    border: 1px solid rgba(255,255,255,0.2);
  }

  .poem-list-wrapper::-webkit-scrollbar {
    width: 6px;
  }

  .poem-list-wrapper::-webkit-scrollbar-thumb {
    background-color: rgba(255,255,255,0.3);
    border-radius: 3px;
  }

  .poem-list {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .poem-list li {
    height: 1.5em;
    line-height: 1.5em;
  }
</style>
</head>
<body>

<div class="poem-list-wrapper">
  <ul class="poem-list">
    <li>• Mea vido</li>
    <li>• Комариная</li>
    <li>• Приступ бешенства в алмазах</li>
    <li>• Сильверная</li>
    <li>• Sentiment de fleur</li>
    <li>• This is an ass deal</li>
    <li>• Мне всё это бело</li>
    <li>• СЧГ</li>
    <li>• №3,33(3)</li>
    <li>• Там целовала меня агония</li>
    <li>• Губы</li>
    <li>• Быть рыбой</li>
    <li>• Уворот</li>
    <li>• Ну же</li>
    <li>• Белые страдания</li>
    <li>• Мальчик</li>
    <li>• Убийство перепела</li>
    <li>• Автопортрет жилья</li>
    <li>• К Тцуруги</li>
    <li>• Камень</li>
    <li>• Свечка</li>
    <li>• Ликантропия</li>
    <li>• Жуся</li>
    <li>• Ларисе, матери моей матери</li>
    <li>• Я побуду</li>
    <li>• Совокупность машин</li>
    <li>• Мистики</li>
    <li>• Эстетика прекрасного</li>
    <li>• Эстетика отвратительного</li>
    <li>• Эстетика одиночества</li>
    <li>• Фуражка</li>
    <li>• Апостол или дурак</li>
    <li>• Ни меня, ни тебя</li>
    <li>• Эхо</li>
    <li>• Тимьян</li>
    <li>• Па у тин</li>
  </ul>
</div>

<script>
  const wrapper = document.querySelector('.poem-list-wrapper');
  const list = document.querySelector('.poem-list');
  const itemHeight = list.querySelector('li').offsetHeight;
  const totalItems = list.children.length;
  const totalHeight = itemHeight * totalItems;

  // Рандомная стартовая позиция scrollTop, учитывая высоту контейнера
  const visibleCount = 15;
  const maxScrollTop = totalHeight - (itemHeight * visibleCount);
  let scrollPos = Math.floor(Math.random() * maxScrollTop);
  wrapper.scrollTop = scrollPos;

  let speed = 10; // пикселей за кадр примерно
  let lastTimestamp = null;

  function step(timestamp) {
    if (!lastTimestamp) lastTimestamp = timestamp;
    const delta = timestamp - lastTimestamp;

    // Смещение с учетом времени (чтобы скорость была стабильнее)
    scrollPos += speed * (delta / 16.67); // ~60fps базис

    // Зацикливание скролла в пределах списка
    if (scrollPos > maxScrollTop) scrollPos = 0;
    if (scrollPos < 0) scrollPos = maxScrollTop;

    wrapper.scrollTop = scrollPos;

    // Замедление после 4 секунд
    if (timestamp > 4000) {
      speed *= 0.97;
      if (speed < 0.1) speed = 0;
    }

    if (speed > 0) {
      lastTimestamp = timestamp;
      requestAnimationFrame(step);
    } else {
      // Анимация остановилась, scrollTop фиксирован,
      // пользователь может прокручивать вручную без проблем
    }
  }

  requestAnimationFrame(step);
</script>

</body>
</html>
