<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê—É–¥–∏–æ –ï–ª–µ–Ω–æ–≤–∏—á–∞</title>
<style>
  body {
    background-color: #080D17;
    color: #fff;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  h1 { margin-bottom: 20px; font-size: 1.5em; }

  .player {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 8px;
    padding: 15px;
    background: rgba(0,0,0,0.3);
    max-width: 400px;
    width: 100%;
  }

  .controls {
    display: flex;
    gap: 10px;
  }

  .controls button {
    background: none;
    border: 1px solid rgba(255,255,255,0.5);
    color: #fff;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 4px;
    font-size: 0.9em;
  }

  .controls button:hover {
    background: rgba(255,255,255,0.1);
  }

  .track-list {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-top: 10px;
    width: 100%;
  }

  .track-list div {
    cursor: pointer;
    font-size: 0.9em;
    padding: 2px 5px;
    border-radius: 3px;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
  }

  .track-list div.active {
    background: rgba(255,255,255,0.2);
  }

  /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ */
  .marquee {
    display: inline-block;
    position: absolute;
    white-space: nowrap;
    will-change: transform;
    animation: marquee 8s linear infinite;
  }

  @keyframes marquee {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
</style>
</head>
<body>

<h1>–ê—É–¥–∏–æ –ï–ª–µ–Ω–æ–≤–∏—á–∞</h1>

<div class="player">
  <audio id="audio"></audio>
  <div class="controls">
    <button id="prev">‚óÄ</button>
    <button id="play">‚ñ∂</button>
    <button id="pause">‚è∏</button>
    <button id="next">‚ñ∂‚ñ∂</button>
    <button id="mute">üîá</button>
  </div>
  <div class="track-list" id="trackList"></div>
</div>

<script>
  const tracks = [
    {title: "Elenovich ‚Äî lustra", src: "audio/Elenovich - lustra.mp3"},
    {title: "Elenovich ‚Äî Mea vido", src: "audio/Elenovich ‚Äî Mea vido.mp3"},
    {title: "Elenovich ‚Äî Ok, Msk", src: "audio/Elenovich ‚Äî Ok, Msk.mp3"},
    {title: "Elenovich - Ra", src: "audio/Elenovich - Ra.mp3"}
  ];

  const audio = document.getElementById('audio');
  const playBtn = document.getElementById('play');
  const pauseBtn = document.getElementById('pause');
  const nextBtn = document.getElementById('next');
  const prevBtn = document.getElementById('prev');
  const muteBtn = document.getElementById('mute');
  const trackListEl = document.getElementById('trackList');

  let current = 0;

  function loadTrack(index, autoplay = false) {
    current = index;
    audio.src = tracks[current].src;
    updateActiveTrack();
    if (autoplay) playTrack();
  }

  function updateActiveTrack() {
    trackListEl.childNodes.forEach((el, i) => {
      el.classList.toggle('active', i === current);
      el.innerHTML = ''; 
      const text = document.createElement('span');
      text.textContent = tracks[i].title;

      if (text.offsetWidth > trackListEl.offsetWidth) {
        const marquee = document.createElement('div');
        marquee.className = 'marquee';
        marquee.textContent = tracks[i].title;
        el.appendChild(marquee);
      } else {
        el.textContent = tracks[i].title;
      }
    });
  }

  function playTrack() { audio.play(); }
  function pauseTrack() { audio.pause(); }
  function nextTrack() { loadTrack((current + 1) % tracks.length, true); }
  function prevTrack() { loadTrack((current - 1 + tracks.length) % tracks.length, true); }
  function toggleMute() { audio.muted = !audio.muted; }

  playBtn.onclick = playTrack;
  pauseBtn.onclick = pauseTrack;
  nextBtn.onclick = nextTrack;
  prevBtn.onclick = prevTrack;
  muteBtn.onclick = toggleMute;

  // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤
  tracks.forEach((t, i) => {
    const div = document.createElement('div');
    div.textContent = t.title;
    div.onclick = () => loadTrack(i, true); // ‚Üê —Ç—É—Ç —Å—Ä–∞–∑—É –≤–∫–ª—é—á–∞–µ–º —Ç—Ä–µ–∫
    trackListEl.appendChild(div);
  });

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  loadTrack(current);

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç—Ä–µ–∫—É
  audio.onended = nextTrack;
</script>

</body>
</html>
